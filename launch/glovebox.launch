<launch>
	
	<arg name="data_folder" default="data/fall_2015/sixdof" />
	<arg name="list" default="cfg/glovebox.list" />

  <!-- position the robot -->
  <node
    name    = "static_transform_publisher"  
    pkg     = "tf"
    type    = "static_transform_publisher"
    args    = "-1.1 0.5 0.2 0 0.8 0 world camera_link 100"

    respawn = "true"
    output  = "screen"
  />

  <node pkg="orp" type="load_item_params.py" name="load_item_params" args="$(find orp)/data/fall_2015/glovebox.sqlite" output="screen" respawn="false" />

	<include file="$(find orp)/launch/orp.launch">
 		<arg name="openni2"          value="true"/>
 		<arg name="sixdof"           value="true"/>
 		<arg name="sixdof_folder"    value="$(arg data_folder)"/>
 		<arg name="list"             value="$(arg list)"/>
 		<arg name="autostart"        value="true"/>
	</include>

  <node
    name    = "$(anon sixdof)"
    pkg     = "dynamic_reconfigure"
    type    = "dynparam"
    args    = "set segmentation spatial_min_y 0.1"

    respawn = "false"
    output  = "screen"
  />

  <node
    name    = "$(anon sixdof2)"
    pkg     = "dynamic_reconfigure"
    type    = "dynparam"
    args    = "set segmentation spatial_max_y 1.5"

    respawn = "false"
    output  = "screen"
  />

  <node
    name    = "$(anon sixdof3)"
    pkg     = "dynamic_reconfigure"
    type    = "dynparam"
    args    = "set segmentation min_cluster_size 150"

    respawn = "false"
    output  = "screen"
  />

  <node
    name    = "$(anon sixdof4)"
    pkg     = "dynamic_reconfigure"
    type    = "dynparam"
    args    = "set segmentation percentage_to_analyze 0.5"

    respawn = "false"
    output  = "screen"
  />

</launch>